schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: src/data_ingestion.py
      hash: md5
      md5: 03992e807e2bdc7694f7e421249a9147
      size: 801
    params:
      params.yaml:
        data_ingestion.url: 
          https://raw.githubusercontent.com/RichardRivaldo/Sentiment-Analysis/refs/heads/main/Instruments_Reviews.csv
    outs:
    - path: data/row/Instruments_Reviews.csv
      hash: md5
      md5: 49f2bd8636808cd639bb730aab06655b
      size: 6081961
  data_preprocessing:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/row/Instruments_Reviews.csv
      hash: md5
      md5: 49f2bd8636808cd639bb730aab06655b
      size: 6081961
    - path: src/data_preprocessing.py
      hash: md5
      md5: 9e9c530ae145b018cded465ae2d0e331
      size: 1700
    outs:
    - path: data/processed_data/cleaned_reviews.csv
      hash: md5
      md5: 43aa1ef1ee25ce2a28d61929493c7bf9
      size: 11559048
  feature_engineering:
    cmd: python src/feature_engineering.py
    deps:
    - path: data/processed_data/cleaned_reviews.csv
      hash: md5
      md5: 43aa1ef1ee25ce2a28d61929493c7bf9
      size: 11559048
    - path: src/feature_engineering.py
      hash: md5
      md5: a3f856528417b46b1b661a2a08af31b8
      size: 2636
    params:
      params.yaml:
        feature_engineering.vectorizer_params:
          test_size: 0.3
          random_state: 30
          max_features: 40000
          ngram_range:
          - 1
          - 2
          min_df: 3
    outs:
    - path: artifacts/X_test.joblib
      hash: md5
      md5: fcac3de5a271c4ea55234533ffd42f4e
      size: 5369828
    - path: artifacts/X_train.joblib
      hash: md5
      md5: faae2dfa76f7d3158f305a902d13b9c2
      size: 13277028
    - path: artifacts/vectorizer.joblib
      hash: md5
      md5: a1b01fdcad914ae4be0564a91076a54f
      size: 1571695
    - path: artifacts/y_test.joblib
      hash: md5
      md5: 87e548c97a8c3252cfe6c50fa53531e7
      size: 62771
    - path: artifacts/y_train.joblib
      hash: md5
      md5: 780b696adef201776b7f08c4c399b0e1
      size: 144849
  model_building:
    cmd: python src/model_building.py
    deps:
    - path: artifacts/X_test.joblib
      hash: md5
      md5: fcac3de5a271c4ea55234533ffd42f4e
      size: 5369828
    - path: artifacts/X_train.joblib
      hash: md5
      md5: faae2dfa76f7d3158f305a902d13b9c2
      size: 13277028
    - path: artifacts/y_test.joblib
      hash: md5
      md5: 87e548c97a8c3252cfe6c50fa53531e7
      size: 62771
    - path: artifacts/y_train.joblib
      hash: md5
      md5: 780b696adef201776b7f08c4c399b0e1
      size: 144849
    - path: src/model_building.py
      hash: md5
      md5: b80d378a681e2441a9246ea421bedd21
      size: 1741
    params:
      params.yaml:
        model_building.model_params:
          C: 2.0
          max_iter: 10000
          random_state: 30
          test_size: 0.2
          class_weight: balanced
    outs:
    - path: artifacts/sentiment_model.joblib
      hash: md5
      md5: 5002f7a957e0531c086e4ab003a54543
      size: 961103
